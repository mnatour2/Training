<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <link href="/static/stylesheets/style.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <title>Movies</title>
</head>

<body class="text-center position-relative">
  {{! topnav }}
  <nav class="navbar navbar-expand fixed-top navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand active" href="/home">Company</a>
      <div class="collapse navbar-collapse justify-content-end">

        <ul class="navbar-nav me-2 mb-0 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="/users">Users</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              Movies
            </a>
            <ul class="dropdown-menu mt-2" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="/movies/create">Add a movie</a></li>
              <li><a class="dropdown-item" href="/movies">View movies</a></li>
              <li><a class="dropdown-item" href="/movies/favorites">Favorites
                  movies</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              Actors
            </a>
            <ul class="dropdown-menu mt-2" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="/actors/create">Add an actor</a></li>
              <li><a class="dropdown-item" href="/actors">View actors</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout" tabindex="-1">Logout</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  {{! grid }}
  <div class="container h-100 pt-5">
    <div class="row">
      {{#each movies}}
      <div class="shadow-sm col-md-6 col-12 text-start">
        <div class="row py-2">
          <div class="col-4">
            <figure class="figure mb-0 position-relative">
              <img class="rounded float-start" src="/{{this.poster}}" width="100%" />
              <div id="iqona">
                <button class="btn" onclick="toggleFav({{this.id}})" id="favBtn">
                  <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="heart"
                    class="svg-inline--fa fa-heart fa-w-16 {{#if this.fav}} d-none {{/if}}" id="heartNotFill" role="img"
                    xmlns="http://www.w3.org/2000/svg" data-movie-id="{{this.id}}" viewBox="0 0 512 512">
                    <path fill="white"
                      d="M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z">
                    </path>
                  </svg>
                  <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart"
                    class="svg-inline--fa fa-heart fa-w-16 {{#unless this.fav}} d-none {{/unless}}" id="heartFill"
                    role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-movie-id="{{this.id}}">
                    <path fill="red"
                      d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z">
                    </path>
                  </svg>
                </button>
              </div>
            </figure>
          </div>
          <div class="col-8" data-movie-id="{{this.id}}">
            <h3><b>{{this.movie_name}}</b></h3>
            <h6 class="text-muted">{{this.actors}}</h6>
            <p class="text-muted">{{this.country}}</p>
            <p class="text-muted">{{this.year}}</p>
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>

  <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="/static/javascripts/movies/index.js"></script>
</body>

</html>